程序什么时候运行

在编写代码的时候，不管是flatMap还是map等算子的使用，都是将operator注册到环境中，并没有开始执行任务。当用户调用execute方式的时候，程序才开始准备执行。

env.execute("word count")

这里面主要做了两件事情，一件事情是根据上面配置的责任链模式将生成StreamGraph，即程序的拓扑结构图。另外一件事情就是生成JobGraph，也就是task list。

接下来的事情就比较好理解了，回到了客户端提交任务到服务端的模式。服务端接收到我们的任务信息，先放入任务队列、然后执行任务（申请资源、task分配、任务调度）。